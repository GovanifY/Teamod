using System;

namespace Teamod_2
{
	public partial class MainForm
	{
		int[] Zexion_ML= new int[] {0x1000/* 00A */,0x84D0/* 01A */,0x84D0/* 01A */,0xE940/* 04A */,0x12850/* 05A */,0x1D8B0/* 20A */,0x2BBA0/* 21A */,0x370C0/* 22A */,0x42040/* 23A */,0x4E8A0/* 24A */,0x59D10/* 25A */,0x65570/* 30A */,0x6D320/* 31A */,0x7A150/* 32A */,0x82290/* 33A */,0x65570/* 30A */,0x7A150/* 32A */,0x91CA0/* 80A */,0x1D8B0/* 20A */,0x4E8A0/* 24A */,0xD3DC0/* 50A */,0xDD970/* 51A */,0xE5930/* 56A */,0xF2710/* 57A */,0xFF190/* 40A */,0x109BD0/* 11A */,0x111FA0/* 12A */,0x11A6C0/* 13A */,0x124160/* 11B */,0x128140/* 12B */};
		int[] Zexion_ML_Length = new int[] {0x74C4/* 00A */,0x646C/* 01A */,0x646C/* 01A */,0x3F10/* 04A */,0xB052/* 05A */,0xE2EC/* 20A */,0xB51C/* 21A */,0xAF7C/* 22A */,0xC85C/* 23A */,0xB470/* 24A */,0xB860/* 25A */,0x7DAC/* 30A */,0xCE22/* 31A */,0x8140/* 32A */,0xFA02/* 33A */,0x7DAC/* 30A */,0x8140/* 32A */,0x757C/* 80A */,0xE2EC/* 20A */,0xB470/* 24A */,0x9BAA/* 50A */,0x7FB2/* 51A */,0xCDD2/* 56A */,0xCA7E/* 57A */,0xAA3E/* 40A */,0x83C4/* 11A */,0x8714/* 12A */,0x9A98/* 13A */,0x3FD4/* 11B */,0x40E4/* 12B */};
		byte[] ZexionPAXAlgo = new byte[] {00,0x08,0x04,0x00,0x00,0x00,0x17,0x01,0x00,0x00,0x11,0x00,0x01,0x01,0x0A,0x00,0x02,0x00,0x01,0x01,0x13,0x00,0x1C,0x00,0x18,0x01,0x20,0x00,0x11,0x00,0x01,0x01,0x0B,0x00,0x11,0x00,0x01,0x01,0x0C,0x00,0x11,0x00,0x01,0x01,0x0D,0x00,0x11,0x00,0x01,0x01,0x0D,0x00,0x00};
		int[] Zexion_ECL = new int[] {0x74C0,0x6450,0x6450,0x3F10,0xB030,0xE2B0,0xB4E0,0xAF40,0xC820,0xB440,0xB830,0x7D80,0xCDF0,0x8120,0xF9C0,0x7D80,0x8120,0x7550,0xE2B0,0xB440,0x9B40,0x7F90,0xCD80,0xCA10,0xAA00,0x83A0,0x86F0,0x9A80,0x3FD0,0x40E0};
		int[] Zexion_ECL_Length = new int[] {0x4,0x1C,0x1C,0x0,0x22,0x3C,0x3C,0x3C,0x3C,0x30,0x30,0x2C,0x32,0x20,0x42,0x2C,0x20,0x2C,0x3C,0x30,0x6A,0x22,0x52,0x6E,0x3E,0x24,0x24,0x18,0x4,0x4};
		
		
		void ZexionFilesFix()
		{
			UpdateFilesSeeking(true);
			ResetMset(Zexion_ML,Zexion_ECL,Zexion_ECL_Length);
			/* MSET Fixes */
			WriteInteger(msetAddress+0xE924,(byte)1);
			/* MDLX Fixes */
				
			/* A.FM Fixes */
		}
		
		public void ZexionSection()
		{
			mdlxAddress = GetMDLXAddress(player_Ptr);
			afmAddress = GetAFMAddress(player_Ptr);
			bool SpeedChange = false;
			
			//Falling
			if (IsANBPlaying(player_Ptr,Zexion_ML[3]))
		    {
		    	SetAnimationState(player_Ptr,0x40);
		    }
			
			//Drive Transition (When the character appears from drive)
			if (IsANBPlaying(player_Ptr,Zexion_ML[21]))
		    {
				WriteInteger(msetAddress+Zexion_ML[21]+0x28,msetAddress-0x20000000+0xE5900);
			}
			
			JumpLength(player_Ptr,0);
			IopPlayer();
			if (!SpeedChange) SetSpeed(player_Ptr,1);
		}
	}
}
